@model HospitalManagementSystem.Models.Doctor

@{
    ViewData["Title"] = "Add New Doctor";
}

<div class="container mt-4">
    @* Ensures alignment with page layout/navbar *@
    <h2 class="mb-4 text-center">➕ Add New Doctor</h2>

    <div class="border border-dark p-4">
        @* Clean outer border *@
        <h4 class="bg-primary text-white text-center py-2 mb-4">Doctor Information</h4>

        @* Validation summary for server-side validation *@


        @if (TempData["ErrorMessage"] != null)
        {
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                <strong>✖ Error!</strong> @TempData["ErrorMessage"]
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        }
        @if (TempData["SuccessMessage"] != null)
        {
            <div class="alert alert-success alert-dismissible fade show" role="alert">
                <strong>✔ Success!</strong> @Html.Raw(TempData["SuccessMessage"])
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        }

        <form asp-action="Create" method="post">
            @Html.AntiForgeryToken()

            <h5 class="mb-3">General Doctor Details</h5>

            <div class="mb-3">
                <label asp-for="Name" class="form-label">Doctor Name</label>
                <input asp-for="Name" class="form-control" placeholder="e.g., Dr. Alice Smith" />
                <span asp-validation-for="Name" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="Specialization" class="form-label">Specialization</label>
                <input asp-for="Specialization" class="form-control" placeholder="e.g., Cardiologist, Pediatrician" />
                <span asp-validation-for="Specialization" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="Description" class="form-label">Description (Optional)</label>
                <textarea asp-for="Description" class="form-control" rows="3" placeholder="Brief description or experience"></textarea>
                <span asp-validation-for="Description" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="Contact" class="form-label">Contact Info</label>
                <input asp-for="Contact" class="form-control" placeholder="e.g., 123-456-7890 or doctor@example.com" />
                <span asp-validation-for="Contact" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="Location" class="form-label">Location</label>
                <input asp-for="Location" class="form-control" placeholder="e.g., Clinic A, Hospital B" />
                <span asp-validation-for="Location" class="text-danger"></span>
            </div>

            <hr class="my-4" />

            <h5 class="mb-3">Login Account Details</h5>
            <p class="text-muted">Username and Password will be automatically generated and provided upon successful creation.</p>

            <div class="form-group d-grid mt-4">
                <button type="submit" class="btn btn-primary btn-lg">
                    <i class="fas fa-plus-circle me-2"></i> Add Doctor
                </button>
            </div>
        </form>
    </div>

    <div class="text-center mt-4">
        <a asp-action="Manage" asp-controller="Doctor" class="btn btn-outline-secondary">
            <i class="fas fa-arrow-left me-2"></i> Back to Manage Doctors
        </a>
    </div>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/js/all.min.js" crossorigin="anonymous"></script>
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
}