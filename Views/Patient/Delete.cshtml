@model HospitalManagementSystem.Models.Patient

@{
    ViewData["Title"] = $"Delete Patient: {Model.Name}";
    Layout = "~/Views/Shared/_Layout.cshtml"; // Admin uses the main layout
}

<h2 class="mb-4 text-center text-danger">🗑️ Delete Patient: @Model.Name</h2>

<div class="alert alert-danger text-center shadow-sm p-3" role="alert">
    <strong>WARNING:</strong> Are you sure you want to delete patient "<strong>@Model.Name</strong>"?
    <br />
    This action is irreversible and will also delete all associated appointments, files, and user login for this patient.
</div>

<div class="card shadow-sm p-4">
    <div class="card-body">
        <dl class="row">
            <dt class="col-sm-4">Patient ID:</dt>
            <dd class="col-sm-8">@Html.DisplayFor(model => model.PatientId)</dd>

            <dt class="col-sm-4">Name:</dt>
            <dd class="col-sm-8">@Html.DisplayFor(model => model.Name)</dd>

            <dt class="col-sm-4">Date of Birth:</dt>
            <dd class="col-sm-8">@Model.DateOfBirth.ToString("yyyy-MM-dd")</dd>

            <dt class="col-sm-4">Gender:</dt>
            <dd class="col-sm-8">@Html.DisplayFor(model => model.Gender)</dd>

            <dt class="col-sm-4">Contact Number:</dt>
            <dd class="col-sm-8">@Html.DisplayFor(model => model.ContactNumber)</dd>

            <dt class="col-sm-4">Email:</dt>
            <dd class="col-sm-8">@Html.DisplayFor(model => model.Email)</dd>

            <dt class="col-sm-4">Address:</dt>
            <dd class="col-sm-8">@Html.DisplayFor(model => model.Address)</dd>

            <dt class="col-sm-4">Medical History:</dt>
            <dd class="col-sm-8">@(string.IsNullOrEmpty(Model.MedicalHistory) ? "No medical history recorded." : Html.Raw(Model.MedicalHistory.Replace("\n", "<br/>")))</dd>
        </dl>

        <form asp-action="Delete">
            <input type="hidden" asp-for="PatientId" />
            <div class="form-group d-grid gap-2 d-md-flex justify-content-md-center mt-4">
                <button type="submit" class="btn btn-danger btn-lg"><i class="fas fa-trash-alt me-2"></i> Confirm Delete</button>
                <a asp-action="Manage" class="btn btn-outline-secondary btn-lg"><i class="fas fa-times-circle me-2"></i> Cancel</a>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/js/all.min.js" crossorigin="anonymous"></script>
}
